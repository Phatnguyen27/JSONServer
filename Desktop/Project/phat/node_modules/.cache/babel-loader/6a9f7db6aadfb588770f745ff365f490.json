{"ast":null,"code":"var _jsxFileName = \"/home/phat/Desktop/Project/phat/src/components/body/ListAddSong/InfoSongAdded.js\";\nimport React, { Component } from 'react'; // import {Row, Col} from 'reactstrap';\n// import Image from '/home/locdangxuan/Dev/web-music/src/components/Image/Flower.jpeg'\n\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { MdThumbUp } from 'react-icons/md';\nimport { MdThumbDown } from 'react-icons/md';\nimport './InfoSongAdded.css';\nimport { PlaylistContext } from '../../../contexts/PlaylistContext';\nexport default class InfoSongAdded extends Component {\n  constructor(props) {\n    super(props);\n\n    this.upvoteOnClick = () => {\n      const ls = localStorage.getItem('Token');\n      if (ls === null) alert('Please log in to vote ');else {\n        axios({\n          method: 'POST',\n          headers: {\n            Authorization: \"Bearer \".concat(JSON.parse(localStorage.getItem('Token')).token)\n          },\n          url: 'https://lovely-hot-springs-99494.herokuapp.com/api/songs/vote',\n          data: {\n            video_id: this.state.votingID,\n            isUpvote: true\n          }\n        });\n      }\n    };\n\n    this.downvoteOnClick = () => {\n      const ls = localStorage.getItem('Token');\n      if (ls === null) alert('Please log in to vote ');else {\n        axios({\n          method: 'POST',\n          headers: {\n            Authorization: \"Bearer \".concat(JSON.parse(localStorage.getItem('Token')).token)\n          },\n          url: 'https://lovely-hot-springs-99494.herokuapp.com/api/songs/vote',\n          data: {\n            video_id: this.state.votingID,\n            isUpvote: false\n          }\n        });\n      }\n    };\n\n    this.state = {\n      thumbnail: this.props.thumbnail,\n      song_title: this.props.song_title,\n      singer: this.props.singer,\n      adder: this.props.adder,\n      upvote: this.props.upvote,\n      downvote: this.props.downvote,\n      id: this.props.id,\n      token: localStorage.token,\n      votingID: this.props.votingID\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          thumbnail = _this$state.thumbnail,\n          singer = _this$state.singer,\n          song_title = _this$state.song_title,\n          adder = _this$state.adder,\n          upvote = _this$state.upvote,\n          downvote = _this$state.downvote,\n          id = _this$state.id;\n    return React.createElement(\"div\", {\n      className: \"playlist-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: thumbnail,\n      alt: \"#\",\n      width: 100,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"song-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: '/playing/' + id,\n        state: {\n          title: song_title,\n          singer: singer\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, song_title)), React.createElement(\"div\", {\n      className: \"singer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, singer)), React.createElement(\"div\", {\n      className: \"user-relation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"adder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, adder), React.createElement(PlaylistContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, ({\n      clickToVote\n    }) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"upvote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(MdThumbUp, {\n      width: \"30\",\n      onClick: this.upvoteOnClick,\n      className: \"likeList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, upvote)), React.createElement(\"div\", {\n      className: \"downvote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(MdThumbDown, {\n      width: \"30\",\n      onClick: this.downvoteOnClick,\n      className: \"dislikeList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, downvote))))));\n  }\n\n}","map":{"version":3,"sources":["/home/phat/Desktop/Project/phat/src/components/body/ListAddSong/InfoSongAdded.js"],"names":["React","Component","axios","Link","MdThumbUp","MdThumbDown","PlaylistContext","InfoSongAdded","constructor","props","upvoteOnClick","ls","localStorage","getItem","alert","method","headers","Authorization","JSON","parse","token","url","data","video_id","state","votingID","isUpvote","downvoteOnClick","thumbnail","song_title","singer","adder","upvote","downvote","id","render","pathname","title","clickToVote"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import {Row, Col} from 'reactstrap';\n// import Image from '/home/locdangxuan/Dev/web-music/src/components/Image/Flower.jpeg'\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport {MdThumbUp} from 'react-icons/md';\nimport {MdThumbDown} from 'react-icons/md';\nimport './InfoSongAdded.css'\nimport { PlaylistContext } from '../../../contexts/PlaylistContext';\n\n\n\nexport default class InfoSongAdded extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            thumbnail : this.props.thumbnail,\n            song_title : this.props.song_title,\n            singer : this.props.singer,\n            adder : this.props.adder,\n            upvote : this.props.upvote,\n            downvote : this.props.downvote,\n            id : this.props.id,\n            token :localStorage.token,\n            votingID : this.props.votingID\n        }\n    }\n\n    upvoteOnClick = () => {\n        const ls = localStorage.getItem('Token');\n        if(ls === null) alert('Please log in to vote ');\n        else{\n            axios({\n                method: 'POST',\n                headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('Token')).token}`},\n                url: 'https://lovely-hot-springs-99494.herokuapp.com/api/songs/vote',\n                data: \n                {\n                    video_id: this.state.votingID,\n                    isUpvote: true\n                }\n            })\n        }\n        \n    }\n\n    downvoteOnClick = () => {\n        const ls = localStorage.getItem('Token');\n        if(ls === null ) alert('Please log in to vote ')\n        else{\n            axios({\n                method: 'POST',\n                headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('Token')).token}`},\n                url: 'https://lovely-hot-springs-99494.herokuapp.com/api/songs/vote',\n                data: \n                {\n                    video_id: this.state.votingID,\n                    isUpvote: false\n                }\n            })\n        }\n        \n    }\n\n    render(){\n            const {thumbnail,singer,song_title,adder,upvote,downvote,id} = this.state;\n            return(\n                <div className = \"playlist-card\">\n                    <div className = \"thumbnail\">\n                        <img src = {thumbnail} alt = \"#\" width = {100} />\n                    </div>\n                    <div className = \"info\">\n                        <div className = \"song-title\"><Link to = {{pathname : '/playing/' + id,state: {title:song_title,singer: singer}}}>{song_title}</Link></div>\n                        <div className = \"singer\">{singer}</div>\n                    </div>\n                    <div className = \"user-relation\">\n                        <div className = \"adder\">{adder}</div>\n                        <PlaylistContext.Consumer>\n                            {({clickToVote}) => (\n                        <div>\n                        <div className = \"upvote\">\n                            <MdThumbUp width=\"30\" onClick = {this.upvoteOnClick} className=\"likeList\"></MdThumbUp>\n                            <span className = \"amount\">{upvote}</span>\n                        </div>\n                        <div className = \"downvote\">\n                            <MdThumbDown width=\"30\" onClick = {this.downvoteOnClick} className=\"dislikeList\"></MdThumbDown>\n                            <span className = \"amount\">{downvote}</span>\n                        </div>\n                        </div>\n                        )}\n                        </PlaylistContext.Consumer>\n                    </div>\n                </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}